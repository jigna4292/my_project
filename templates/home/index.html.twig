{% extends 'layout.html.twig' %}

{% block content %}
 <div class="col-lg-12">
    <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      </ol>
      <div class="carousel-inner" role="listbox">
        <div class="carousel-item active">
          <img class="d-block img-fluid" src="https://venngage-wordpress.s3.amazonaws.com/uploads/2019/03/Consulting-Templates-Blog-Header.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block img-fluid" src="https://i0.wp.com/webhostingsolutions.org/wp-content/uploads/2018/07/how-to-design-template-in-photoshop-web-ui-ux-design-tutorial.jpg?fit=1280%2C7200" alt="Second slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <h3> {{title_sec1}} </h3>
    <div class="row ptb30">
      {% for provider in providers|slice(0,3) %}
	      <div class="col-lg-4 col-md-6 mb-4">
	        <div class="card h-100">
            <div class="card-header">
	           <h4 class="card-title">
                <a href="{{url('provider_single',{'id':provider.id})}}">{{provider.name}}</a>
              </h4>
            </div>
	          <div class="card-body">
	            <p class="card-text">{{provider.description}}</p>
	          </div>
            <div class="card-footer">
              <a href="{{url('provider_single',{'id':provider.id})}}" class="btn btn-primary">Find out more</a>
            </div>
	        </div>
	      </div>
	  {% endfor %}
   
    </div>
    <div class="btn-align-center">
      <a href="{{url('providers')}}" class="btn btn-primary btn-large">All Providers</a>
    </div>
    <!-- /.row -->

    <h3> {{title_sec2}} </h3>
    <div class="row ptb30">

    {% for product in products|slice(0,3) %}
      <div class="col-lg-4 col-md-6 mb-4">
        <div class="card h-100">
          <a href="{{url('product_single',{'id':product.id})}}"><img class="card-img-top" src="{{product.getImage()}}" alt=""></a>
          <div class="card-body">
            <h4 class="card-title">
              <a href="{{url('product_single',{'id':product.id})}}">{{product.name}}</a>
            </h4>

            {% set price = product.getSoftware()|last.price %}
      	    <h5>${{price}}</h5>

            <b>Platforms Suported : </b>
            {% for software in product.getSoftware() %}
              {{ software.getPlatform().getName()|upper() }} 
              {% if not loop.last %},{% endif %}
            {% endfor %}

            <p class="card-text">{{product.description|raw}}</p>
          </div>	
          <div class="card-footer product-btn">
              <a href="{{url('product_single',{'id':product.id})}}" class="btn btn-primary">Find out more</a>
              <a href="{{url('product_single',{'id':product.id})}}" class="btn btn-primary">Add to cart</a>
          </div>
        </div>
      </div>
    {% endfor %}
    
    </div>
    <div class="btn-align-center">
      <a href="{{url('products')}}" class="btn btn-primary btn-large">All Products</a>
    </div>
    <!-- /.row -->

  </div>
  <!-- /.col-lg-12 -->

{% endblock %}
